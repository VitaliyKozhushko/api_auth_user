# Тестовое задание

Создать api приложение на Django с использованием DRF по управлению менторством
<hr>

## Требования

API должен принимать запросы по следующим адресам:

1. `api/registration` - создание нового пользователя
2. `api/login` - авторизация пользователя
3. `api/users/` - список пользователей
4. `api/users/<id>` - информация о пользователе
5. `api/logout` - выход пользователя

Аутентификация должна быть реализована через djangorestframework-simplejwt.

- [x] При регистрации обязательными параметрами являются - логин, пароль. Необязательным - номер телефона, e-mail. 
- [x] В п.3 присылать информацию по логину и принадлежности к менторам.
- [x] К адресам из п.3, п.4 и п.5 должен быть доступ у всех авторизованных пользователей.
- [x] п.4 показывать пароль и иметь возможность изменить любое значение только самого себя.
- [x] п.4 если пользователь является ментором, то нужно дополнительно присылать список логинов пользователей, для которых он является ментором.
- [x] п.4 если у пользователя есть ментор(может быть только один), то присылать логин ментора
<hr>

## Стэк технологий

- Backend: [Django](https://www.djangoproject.com/) + [DRF](https://www.django-rest-framework.org/)
- Authentication: [djangorestframework-simplejwt](https://django-rest-framework-simplejwt.readthedocs.io/en/latest/)
- Caching, limiting requests: [Redis](https://redis.io/)
- Database: [PostgreSQL](https://www.postgresql.org/)
<hr>

## Реализованные возможности

- Redis:
  - кэширование списка пользователей
  - ограничение кол-ва запрос для авторизованных пользователей за минуту
- роль "ментор"
  - при регистрации можно определить эту роль
  - изменить можно через админку
- назначение ментора для пользователя
  - через админку (в карточке пользователя)
- если пользователь перестаёт быть ментором и у него были подопечные, то они освобождаются от связи с ним
<hr>

## Инструкция по запуску проекта

1. Клонируйте репозиторий
```
git clone https://github.com/VitaliyKozhushko/mentor_user_API.git
```
2. Настройте .env файлы: .env - обычный запуск, .env.docker - запуск с помощью Docker
3. Запустите проект:
   - либо с помощью команд Django:
   ```
    python manage.py collectstatic
    python manage.py makemigrations
    python manage.py migrate
    python manage.py runserver
    ```
   - либо с помощью Docker (суперпользователь будет автоматически создан - login: admin, password - admin)
    ```
    docker compose up --build -d
    ```